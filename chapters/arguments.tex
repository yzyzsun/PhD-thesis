\chapter{Named Arguments as Intersections, Optional Arguments as Unions} \label{ch:arguments}

Named and optional arguments are prevalent features in many mainstream
programming languages, enhancing code readability and flexibility. Despite
widespread use, their formalization has not been extensively studied.

This part extends compositional programming with union types, enabling a
type-safe foundation for named and optional arguments. We first conduct a survey
of existing languages' support for named arguments in \autoref{sec:existing}.
Then we identify in \autoref{sec:bad} a critical type-safety issue in popular
static type checkers for Python and Ruby, particularly in handling first-class
named arguments in the presence of subtyping. Our solution is informally
presented in \autoref{sec:type-safe} and formalized in \autoref{sec:iu-uaena}
through an elaboration from a functional language with named and optional
arguments (\uaena) to a minimal core calculus with intersection and union types
(\lambdaiu). We conclude this chapter with a detailed discussion of existing
designs in \autoref{sec:related}.

\input{filtered/arguments/introduction}
\input{filtered/arguments/background}
\input{filtered/arguments/overview}
\input{filtered/arguments/formalization}
\input{filtered/arguments/related}

\section{Conclusion}

The benefits from named arguments are twofold. On the one hand, argument
keywords serve as extra documentation at the language level. On the other hand,
they lay the foundation for supporting commutativity and optionality.

Named and optional arguments are widely supported in mainstream programming
languages but are hardly formalized. Our approach is inspired by existing
mechanisms in OCaml and Haskell but further considers the interaction between
first-class named arguments and subtyping. Static type checkers for Python and
Ruby both suffer from a type-safety issue in this regard. We show that \lambdaiu
can serve as a type-safe core calculus with compact support for intersection and
union types.

We hope that this chapter will call more attention to the foundation for named
and optional arguments and inspire future language developers to consider
potential type-safety issues more carefully in their designs.
